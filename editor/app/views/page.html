{% extends "layout.html" %}
{% import "frontend_macros.ntk" as frontend with context %}

{% block page_title %}
  {{ page.heading }} - Editor
{% endblock %}

{% block content %}

<main id="content" role="main">
  <div class="grid-row">
    <div class="column-one-half" id="editor-wrapper">
    {{ frontend.govukBackLink({
      "href": "/forms/" + formname,
      "text": "Back to pages in this form"
    }) }}

      <form action="{{ page.url }}" method="post" id="form">
        <h1 class="heading-xlarge heading-label">
          <label class="form-label" for="heading">Heading</label>
        </h1>
        <div class="form-group">
          <input class="form-control form-control-2-3" id="heading" name="heading" value="{{ page.heading}}">
        </div>

        {% if page.pagetype %}
          {{ frontend.govukInput({
            "label": {
              "text": "Page type"
            },
            "name": "pagetype",
            "id": "pagetype",
            "value": page.pagetype
          }) }}
        {% endif %}

        {% if page.guidance %}
          {{ frontend.govukTextarea({
            "label": {
              "text": "Guidance"
            },
            "name": "guidance",
            "id": "guidance",
            "value": page.guidance
          }) }}
        {% endif %}

        {% if page.detail %}
          {{ frontend.govukInput({
            "label": {
              "text": "Detail"
            },
            "name": "detail",
            "id": "detail",
            "value": page.detail
          }) }}
        {% endif %}

        {% for field in page.fields %}

        {% endfor %}

        {{ frontend.govukButton({ "text": "Update", "classes": [] }) }}
      </form>
    </div>
    <div class="column-one-half">
      <div id="prototype-wrapper" class="prototype-wrapper">
        <iframe name="prototype" id="prototype" class="prototype" src="http://localhost:3000/{{ currentFormPage }}" height="800px"></iframe>
      </div>
    </div>
  </div>
</main>

{% endblock %}


